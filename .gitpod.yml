# .gitpod.yml
image: gitpod/workspace-full:latest

tasks:
  - init: |
      echo "ğŸ”§ Installing dependencies..."
      npm install -g truffle
      npm install
    command: |
      echo "ğŸš€ Starting Truffle Develop (Blockchain Network)..."
      truffle develop &
      echo "ğŸŒ Waiting a few seconds for blockchain to start..."
      sleep 10
      echo "ğŸ’» Starting development server..."
      npm start

ports:
  - port: 3000
    onOpen: open-preview
  - port: 8545
    onOpen: notify

vscode:
  extensions:
    - JuanBlanco.solidity
    - dbaeumer.vscode-eslint
    - esbenp.prettier-vscode

env:
  NODE_ENV: development
